// models/variant.prisma

model VariantList {
  ID        String   @id @default(uuid())
  name      String
  storeID   String
  productID String?
  isComplex Boolean  @default(false)
  store     Store    @relation(fields: [storeID], references: [ID], onDelete: Cascade)
  product   Product? @relation(fields: [productID], references: [ID], onDelete: Cascade)
  variants  VariantListToVariant[]
}

model Variant {
  ID                   String   @id @default(uuid())
  type                 String
  value                String
  code                 String?
  storeID              String
  inceptionDate        DateTime @default(now())
  lastUpdate           DateTime @updatedAt
  store                Store    @relation(fields: [storeID], references: [ID], onDelete: Cascade)
  productVariantsLists VariantListToVariant[]
  variantCombos        VariantComboToVariant[]
  orderItems           OrderItem[]
}

model VariantCombo {
  ID        String   @id @default(uuid())
  name      String
  storeID   String
  productID String
  quantity  Int
  store     Store    @relation(fields: [storeID], references: [ID], onDelete: Cascade)
  product   Product  @relation(fields: [productID], references: [ID], onDelete: Cascade)
  variants  VariantComboToVariant[]
}

model VariantListToVariant {
  ID            String  @id @default(uuid())
  variantListID String
  variantID     String
  variantsList  VariantList @relation(fields: [variantListID], references: [ID], onDelete: Cascade)
  variant       Variant     @relation(fields: [variantID], references: [ID], onDelete: Cascade)
}

model VariantComboToVariant {
  ID             String  @id @default(uuid())
  variantComboID String
  variantID      String
  variantCombo   VariantCombo @relation(fields: [variantComboID], references: [ID], onDelete: Cascade)
  variant        Variant      @relation(fields: [variantID], references: [ID], onDelete: Cascade)
}
